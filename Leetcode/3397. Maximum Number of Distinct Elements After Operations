class Solution {
    public int maxDistinctElements(int[] nums, int k) {
        Arrays.sort(nums);
        long prev = Long.MIN_VALUE;
        int d = 0;

        for (int num : nums) {
            long mn = (long) num - k;
            long mx = (long) num + k;

            long  cur = Math.max(mn, prev + 1);

            if (cur <= mx) {
                d++;
                prev = cur;
            }
        }

        return d;
        
    }
}
// 1 2 2 3 3 4
//   1 2 3 4 5 6

// 4 4 4 4
//  4 5 3 
